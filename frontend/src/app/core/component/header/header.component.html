<header
  (scroll)="onWindowScroll()"
  [class.banner-closed]="isBannerClosed"
  [class.navbar-background-on-scroll]="hasScrollBackground"
>
  <div class="content my-container">
    <div class="logo" (click)="navigateToAnchor('accueil')" role="button" tabindex="0">
      <span class="logo-circle">JL</span>
      <span class="logo-text">DIGITALIZER</span>
    </div>

    <div class="header-right">
      <nav [class.toggle-nav]="isBurgerMenuClicked">
        <ul>
          <li>
            <a (click)="setActiveLinkAndNavigate(1, 'accueil')" [class.active-link]="currentLinkNumber === 1" role="button" tabindex="0">
              {{ 'NAV.HOME' | translate }}
            </a>
          </li>
          <li>
            <a (click)="setActiveLinkAndNavigate(2, 'a-propos')" [class.active-link]="currentLinkNumber === 2" role="button" tabindex="0">
              {{ 'NAV.ABOUT' | translate }}
            </a>
          </li>
          <li>
            <a (click)="setActiveLinkAndNavigate(3, 'services')" [class.active-link]="currentLinkNumber === 3" role="button" tabindex="0">
              {{ 'NAV.SERVICES' | translate }}
            </a>
          </li>
          <li>
            <a (click)="setActiveLinkAndNavigate(4, 'projets')" [class.active-link]="currentLinkNumber === 4" role="button" tabindex="0">
              {{ 'NAV.PROJECTS' | translate }}
            </a>
          </li>
          <!-- Desktop : dropdown "RÃ©fÃ©rences â–¼" (cachÃ© sur mobile via CSS) -->
          <li class="nav-dropdown"
              (mouseenter)="openRefsDropdown()"
              (mouseleave)="closeRefsDropdown()">
            <span class="nav-dropdown-trigger"
                  role="button"
                  tabindex="0"
                  [attr.aria-haspopup]="true"
                  [attr.aria-expanded]="isRefsDropdownOpen"
                  [class.active-link]="currentLinkNumber === 6 || currentLinkNumber === 7 || currentLinkNumber === 8"
                  (keydown.enter)="isRefsDropdownOpen = !isRefsDropdownOpen"
                  (keydown.space)="isRefsDropdownOpen = !isRefsDropdownOpen">
              {{ 'NAV.REFERENCES' | translate }}
              <i class="pi pi-chevron-down dropdown-arrow" [class.rotated]="isRefsDropdownOpen"></i>
            </span>
            <div class="dropdown-panel"
                 [class.open]="isRefsDropdownOpen"
                 role="menu"
                 (mouseenter)="openRefsDropdown()"
                 (mouseleave)="closeRefsDropdown()">
              <a (click)="setActiveLinkAndNavigate(8, 'certifications'); isRefsDropdownOpen = false"
                 role="menuitem" tabindex="0">
                <i class="pi pi-verified"></i>
                {{ 'NAV.CERTIFICATIONS' | translate }}
              </a>
              <a (click)="setActiveLinkAndNavigate(6, 'galerie'); isRefsDropdownOpen = false"
                 role="menuitem" tabindex="0">
                <i class="pi pi-images"></i>
                {{ 'NAV.GALLERY' | translate }}
              </a>
              <a (click)="setActiveLinkAndNavigate(7, 'temoignages'); isRefsDropdownOpen = false"
                 role="menuitem" tabindex="0">
                <i class="pi pi-star"></i>
                {{ 'NAV.TESTIMONIALS' | translate }}
              </a>
            </div>
          </li>

          <li>
            <a (click)="setActiveLinkAndNavigate(5, 'contact')" [class.active-link]="currentLinkNumber === 5" role="button" tabindex="0">
              {{ 'NAV.CONTACT' | translate }}
            </a>
          </li>

          <!-- Mobile : items individuels dans le burger menu (cachÃ©s sur desktop via CSS) -->
          <li class="nav-secondary">
            <a (click)="setActiveLinkAndNavigate(8, 'certifications')" [class.active-link]="currentLinkNumber === 8" role="button" tabindex="0">
              {{ 'NAV.CERTIFICATIONS' | translate }}
            </a>
          </li>
          <li class="nav-secondary">
            <a (click)="setActiveLinkAndNavigate(6, 'galerie')" [class.active-link]="currentLinkNumber === 6" role="button" tabindex="0">
              {{ 'NAV.GALLERY' | translate }}
            </a>
          </li>
          <li class="nav-secondary">
            <a (click)="setActiveLinkAndNavigate(7, 'temoignages')" [class.active-link]="currentLinkNumber === 7" role="button" tabindex="0">
              {{ 'NAV.TESTIMONIALS' | translate }}
            </a>
          </li>
        </ul>

        <div class="social-links">
          <a href="https://www.linkedin.com/in/jovany-lemoupa-767408330" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
            <i class="pi pi-linkedin"></i>
          </a>
          <a href="https://github.com/jovanylemoupa" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
            <i class="pi pi-github"></i>
          </a>
          <a href="https://www.youtube.com/@TechEntreNous-JL" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
            <i class="pi pi-youtube"></i>
          </a>
        </div>

        <img class="triangle-off" src="img/triangle-off.png" alt="Design triangle" />
        <img class="cross" src="img/cross.png" alt="Design cross" />
      </nav>

      <!-- Bouton toggle langue FR / EN -->
      <button
        class="lang-toggle"
        (click)="switchLanguage()"
        [attr.aria-label]="'Langue : ' + (currentLang === 'fr' ? 'Passer en anglais' : 'Switch to French')"
        title="{{ currentLang === 'fr' ? 'Switch to English' : 'Passer en FranÃ§ais' }}"
      >
        <span class="lang-flag">{{ currentLang === 'fr' ? 'ðŸ‡«ðŸ‡·' : 'ðŸ‡¬ðŸ‡§' }}</span>
        <span class="lang-label">{{ currentLang === 'fr' ? 'FR' : 'EN' }}</span>
      </button>

      <div
        class="burger"
        (click)="onBurgerMenu()"
        [style.background]="isBurgerMenuClicked ? '#FFCC00' : 'inherit'"
      >
        <input type="checkbox" [checked]="isBurgerMenuClicked" />
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
</header>
